# 클래스

- 자바스크립트의 클래스는 다른 객체지향 언어의 클래스와 같은 개념이 아닌 프로토타입 기반의 객체 생성 매커니즘이다.
- 클래스는 생성자 함수와 마찬가지로 프로토타입 기반의 인스턴스를 생성하는 constructor인 함수이나 생성자 함수와는 일부 차이점이 존재한다.
  - 1. 호이스팅
    - 클래스 : 호이스팅이 발생하지 않는 것처럼 동작한다.(TDZ)
    - 생성자 함수 : 함수 선언문은 함수 호이스팅, 함수 표현식은 변수 호이스팅이 발생한다.
  - 2. new 연산자 없이 호출
    - 클래스 : new 연산자 없이 호출하면 에러가 발생한다.
    - 생성자 함수 : new 연산자 없이 호출하면 일반 함수로서 호출된다.
  - 3. strict mode
    - 클래스 : 암묵적으로 strict mode가 적용되며 해제할 수 없다.
    - 생성자 함수 : 암묵적으로 strict mode가 적용되지 않는다. 명시적으로 적용해야 한다.
  - 4. 열거 가능 여부 (프로퍼티 어트리뷰트 [[Enumerable]])
    - 클래스 : constructor, 프로토타입 메서드, 정적 메서드 [[Enumerable]]이 false다. (열거 X)
    - 생성자 함수 : 프로토타입 메서드 [[Enumerable]]이 true다. (열거 O)

## 생성자 메서드 constructor

- constructor는 인스턴스를 생성하고 초기화하기 위한 특수한 메서드이다. 이름을 변경할 수 없다.
- constructor 내부의 this는 생성자 함수가 생성할 인스턴스를 가리킨다.
- constructor는 생략할 수 있다. 이때 클래스에 constructor가 없다면 암묵적으로 빈 constructor가 생성된다.
- constructor는 클래스 내에 최대 한 개만 존재할 수 있다.
- 인스턴스 생성 시 인스턴스 프로퍼티의 초기값을 전달하려면 constructor에 매개변수를 선언해야 한다.
- 생성자 함수와 마찬가지로 constructor는 별도의 반환문을 갖지 않아야 한다. 암묵적으로 this(인스턴스)를 반환한다.

## 프로토타입 메서드

- 생성자 함수에서 프로토타입 메서드를 생성하기 위해선 명시적으로 생성자 함수의 prototype 프로퍼티에 메서드를 추가해야 했으나, 클래스는 단순히 클래스 몸체 내부에서 메서드를 정의할 경우 기본적으로 프로토타입 메서드가 된다.
- 프로토타입 메서드는 인스턴스로 호출하며, 인스턴스 프로퍼티를 참조할 수 있다. (정적 메서드는 클래스로 호출)
- 메서드 호출 시 메서드 내부의 this는 메서드를 호출한 객체를 가리키므로, 프로토타입 메서드 호출 시 프로토타입 메서드 내부의 this는 자신을 호출한 인스턴스가 된다.
- 프로토타입 메서드와 정적 메서드는 자신이 속해 있는 프로토타입 체인이 다르다.

```js
// 생성자 함수
function Person(name) {
  this.name = name;
}
// 프로토타입 메서드
Person.prototype.sayHi = function () {
  console.log(`Hi! My name is ${this.name}`);
};
```

```js
// 클래스
class Person {
  // 생성자
  constructor(name) {
    // 인스턴스 생성 및 초기화
    this.name = name;
  }
  // 프로토타입 메서드
  sayHi() {
    console.log(`Hi! My name is ${this.name}`);
  }
}
```

## 정적 메서드

- 정적 메서드 : 인스턴스를 생성하지 않아도 호출할 수 있는 메서드
- 생성자 함수에서 정적 메서드를 생성하려면 명시적으로 생성자 함수에 메서드를 추가해야 했으나, 클래스는 단순히 static 키워드를 메서드 앞에 붙이기만 하면 정적 메서드(클래스 메서드)가 된다.
- 정적 메서드는 인스턴스로 호출할 수 없다. 인스턴스의 프로토타입 체인 상에는 클래스가 존재하지 않기 때문이다. (모딥다 p431 그림 25-5 참고)
  - 따라서 인스턴스로 호출할 수 없고 인스턴스의 프로퍼티를 참조할 수 없기 때문에 정적 메서드는 클래스의 인스턴스가 아닌 클래스에 관련된 메서드를 정의할 때 사용한다.

```js
// 생성자 함수
function Person(name) {
  this.name = name;
}
// 정적 메서드
Person.sayHi = function () {
  console.log('Hi!');
};
```

```js
// 클래스
class Person {
  // 생성자
  constructor(name) {
    // 인스턴스 생성 및 초기화
    this.name = name;
  }
  // 정적 메서드
  static sayHi() {
    console.log('Hi!');
  }
}
```
