# 모딥다 4장. 변수

## 4.1 변수란 무엇인가? 왜 필요한가?

- 컴퓨터는 메모리를 사용해서 데이터를 기억한다.

- 메모리는 데이터를 저장할 수 있는 메모리 셀의 집합체다.

- 메모리 셀 하나의 크키는 1byte(8bit)

- 컴퓨터는 1byte (메모리 셀 하나의 크기) 단위로 데이터를 저장하거나 읽어들인다.

- 컴퓨터는 모든 데이터를 2진수로 처리한다.

- So, **메모리에 저장되는 모든 데이터(값)는 2진수로 변환되어 저장된다.**

**메모리 주소**

- 메모리 = 메모리 셀의 집합체
- 각 셀은 고유한 메모리 주소(= 메모리 공간에서의 위치)를 가짐
- 메모리 주소를 통해 값에 직접 접근하지 못하게 하는 이유 (모딥다 36p)
- 실수로 운영체제가 사용하고 있는 값을 변경한다면 치명적인 오류 발생
- 값이 저장될 주소는 코드가 실행될 때 마다 멤리 상황에 따라 임의로 결정됨
- 코드 실행 이전에는 값이 저장된 메모리 주소를 알 수도 없음
  -> 따라서 메모리 주소를 통해 값에 직접 접근하는 것은 올바른 방법이 아니다

---

- 변수를 사용하여 값에 안전하게 접근할 수 있다.
- 프로그래밍 언어의 컴파일러 또는 인터프리터가 변수를 값이 저장된 메모리 공간의 주소로 치환하여 실행(값을 가져움)한다.
- 변수를 참조(값 읽기)하려고 할 때, 자바스크립트 엔진은 변수 이름과 매핑된 메모리 주소를 통해 메모리 공간에 접근하여 저장된 값을 반환.
- 할당: 변수에 값을 저장하는 것
- 참조: 변수에 저장된 값을 읽어 들이는 것

---

## 4.2 식별자

- 변수, 함수, 클래스 등의 이름을 식별자(identifier)라고 한다.
- 식별자는 값이 아니라 **메모리의 주소**를 기억하고 있다.
- **선언(declaration)**: 식별자를 생성하는 것 (변수 선언: 변수 생성)
- JS의 식별자 네이밍 컨벤션
- 카멜 케이스(camelCase): 함수, 변수
- 파스칼 케이스(PascalCase): 클래스, 생성자 함수

---

- 자바스크립트 엔진이 변수 선언을 수행하는 과정
  1.  선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
  2.  초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined`를 할당해 초기화한다.

_초기화: 변수가 선언된 이후 최초로 값을 할당하는 것_

---

## 4.3 변수 선언

### **`var`** 키워드

```js
var userName;

console.log(userName); // undefined
```

`var` 키워드로 선언한 변수는 선언 단계와 초기화 단계가 **동시에 진행**된다.

## 4.3 변수 선언의 실행 시점과 변수 호이스팅

런타임에는 소스코드가 한 줄씩 실행된다. 하지만 런타임 이전에, 자바스크립트는 소스 코드 평가 과정을 먼저 거친다. 소스 코드 평가 과정에서 자바스크립트 엔진은 변수 선언문, 함수 선언문 등 모든 선언문을 소스코드에서 찾아내 먼저 실행한다.

그렇기 때문에 변수 선언이 소스코드 어디에 위치해 있던지 간에 다른 코드보다 먼저 실행되기 때문에 변수 선언 위치와 관계없이 어디서든지 변수를 참조할 수 있는 것이다. 이처럼 변수나 함수 선언문 등이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 **호이스팅**이라고 한다.

```js
console.log(username); // undefined

var username;
```

- `var, let, const, function, function*, class` 키워드를 사용해서 선언한 모든 식별자는 호이스팅된다.

## 4.5 값의 할당

```js
var username = 'kim'; // 변수 선언 + 값의 할당

// 위 단축 표현은 결국 아래와 같이 동작한다.

var username; // 변수 선언

username = 'kim'; // 값의 할당
```

변수 선언과 값의 할당을 하나의 문으로 단축 표현해도 자바스크립트 엔진은 변수 선언과 값의 할당을 위한 별도의 문으로 분리해 각각을 개별적으로 실행한다.

- 주의: 실행시점이 다르다.

- 변수 선언: 런타임 이전

- 값의 할당: 런타임

### TDZ(Temporal Dead Zone)

TDZ란 스코프의 시작 지점푸터 초기화 시작 지점까지 변수를 참조할 수 없는 구간을 말한다.
초기화 이전에 변수를 참조하면 참조 에러가 발생한다.
let과 const 키워드로 선언된 변수 또한 호이스팅이 발생하지만, 선언 단계와 초기화 단계가 동시에 진행되는 var 키워드와 다르게 let, const 키워드로 선언된 변수는 선언 단계와 초기화 단계가 분리되어 진행된다.
(선언 단계는 암묵적으로 런타임 이전에 진행되고 런타임에 초기화 단계 진행)
따라서 변수 선언문에 도달하여 undefined로 초기화되기 전까지는 변수를 참조할 수 없다.

```js
// 1. 런타임 이전 선언 단계

// 아직 변수가 초기화되지 않았기 때문에 변수를 참조할 수 없음

console.log(username); // ReferenceError: username is not defined

// 2. 초기화 단계

let username; // 변수 선언문에서 초기화 단계가 실행된다.

console.log(username); // undefined

// 3. 할당 단계

username = 'kim';

console.log(username); // kim
```

## 4.6 값의 재할당
